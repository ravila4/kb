---
id: 3g22rduq2yiwiloagst4rx9
title: Using Biothings SDK with ES8
desc: ''
updated: 1649363307071
created: 1649361878311
tags:
    - es8
    - biothings
---


Install ES8 Docker image,

```bash
docker network create elastic
docker pull docker.elastic.co/elasticsearch/elasticsearch:8.1.0
docker run -d -p 9200:9200 -p 9300:9300 --name elasticsearch_8 --net elastic -t docker.elastic.co/elasticsearch/elasticsearch:8.1.0
```

Make note of the username and password provided.

Copy the CA certs to the host machine:

```
cp elasticsearch_8:/usr/share/elasticsearch/config/certs/http_ca.crt .

```

You can now connect using simple username/password authentication:

```
curl --cacert http_ca.crt -u elastic:<password> https://localhost:9200
```


## Configuring Web for ES8

To connect to ES8 using SSL certificates, set these arguments in config.py

```python
ES_ARGS = {
    "use_ssl": True,
    "verify_certs": True,
    "ca_certs": "http_ca.crt",
    "api_key": encoded_api_key"
}
```

`encoded_api_key` is a one-time API key that can be generated by the following command:

```
curl -X POST --cacert http_ca.crt -u elastic:<password> https://localhost:9200/_security/api_key \
 -H 'Content-Type: application/json' -d'{"name": "my_api_key"}'
```

## Configuring Hub for ES8

Similar to web, to configure the hub, we ned to set `use_ssl`, `verify_certs`, `ca_certs`, and `api_key` for the `INDEX_CONFIG` settings under `indexer.args`.