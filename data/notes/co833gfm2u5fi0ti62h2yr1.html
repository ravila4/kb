<h1 id="xml">XML<a aria-hidden="true" class="anchor-heading icon-link" href="#xml"></a></h1>
<h1 id="xml-transformations">XML Transformations<a aria-hidden="true" class="anchor-heading icon-link" href="#xml-transformations"></a></h1>
<p>Free tester tool: <a href="https://xslttest.appspot.com/">https://xslttest.appspot.com/</a></p>
<h2 id="sorting-xml-records-with-xslt">Sorting XML Records with XSLT<a aria-hidden="true" class="anchor-heading icon-link" href="#sorting-xml-records-with-xslt"></a></h2>
<p><a href="https://dellboomi.force.com/community/s/article/Sorting-XML-Records-with-XSLT">https://dellboomi.force.com/community/s/article/Sorting-XML-Records-with-XSLT</a></p>
<p>Let's say that we have an XML document that looks like this:</p>
<pre class="language-xml"><code class="language-xml"><span class="token prolog">&#x3C;?xml version="1.0" encoding="utf-8"?></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entityList</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>createdDate</span><span class="token punctuation">></span></span>2020-03-02T05:02:03.000-08:00<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>createdDate</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entity</span> <span class="token attr-name">internalId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>376531302<span class="token punctuation">"</span></span> <span class="token attr-name">lastModifiedDate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2020-03-03T05:51:35.000-08:00<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entityName</span><span class="token punctuation">></span></span>99001 ABC - Entity A<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entityName</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entity</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entity</span> <span class="token attr-name">internalId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>37651304<span class="token punctuation">"</span></span> <span class="token attr-name">lastModifiedDate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2020-03-02T04:37:24.000-08:00<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entityName</span><span class="token punctuation">></span></span>99006 ABC - Entity D<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entityName</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entity</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entity</span> <span class="token attr-name">internalId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>376531302<span class="token punctuation">"</span></span> <span class="token attr-name">lastModifiedDate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2020-03-02T04:19:16.000-08:00<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entityName</span><span class="token punctuation">></span></span>99005 ABC - Entity C<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entityName</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entity</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entity</span> <span class="token attr-name">internalId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>376531302<span class="token punctuation">"</span></span> <span class="token attr-name">lastModifiedDate</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2020-03-20T06:44:22.000-08:00<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>entityName</span><span class="token punctuation">></span></span>99002 ABC - Entity B<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entityName</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entity</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>entityList</span><span class="token punctuation">></span></span>
</code></pre>
<p>This is the final processed form of our data, but the user we're sending this to has asked that we sort it by the "elementName" value.
We'll use these two templates in an XSLT Stylesheet for that.</p>
<pre class="language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>stylesheet</span> <span class="token attr-name">version</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsl</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/1999/XSL/Transform<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>output</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>xml<span class="token punctuation">"</span></span> <span class="token attr-name">indent</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>yes<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

     <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>template</span> <span class="token attr-name">match</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>entityList<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>copy</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>apply-templates</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@*<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>apply-templates</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>entity<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>sort</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>entityName<span class="token punctuation">"</span></span> <span class="token attr-name">order</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ascending<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token namespace">xsl:</span>apply-templates</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token namespace">xsl:</span>copy</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token namespace">xsl:</span>template</span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>template</span> <span class="token attr-name">match</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@* | node()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>copy</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span><span class="token namespace">xsl:</span>apply-templates</span> <span class="token attr-name">select</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@* | node()<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token namespace">xsl:</span>copy</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token namespace">xsl:</span>template</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span><span class="token namespace">xsl:</span>stylesheet</span><span class="token punctuation">></span></span>
</code></pre>